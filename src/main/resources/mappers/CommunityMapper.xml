<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.platform.learning.reactbootproject.editor.communitymapper.CommunityMapper">
	<insert id="communityInsert">
		insert into community values(community_pk_seq.NEXTVAL,'임시아이디',#{community_category},#{community_title},#{community_content},
        SYSDATE,0,0,0)
	</insert>
    <select id="selectAllCommunity" resultType="CommunityBBSDTO">
        select * from community where community_report &lt;= 10 order by community_pk desc
    </select>
    <select id="SelectMenuCommunity" resultType="CommunityBBSDTO">
        select * from community where community_category = #{selectedMenu} and community_report &lt;= 10 order by community_pk desc
    </select>
    <select id="communitySelectView" resultType="CommunityBBSDTO">
        select * from community where community_pk = #{community_pk}
    </select>
    <update id="updateViews">
        update community set community_view = community_view + 1 where community_pk = #{community_pk}
    </update>
    <update id="isGood">
        update community set community_isgood = community_isgood + 1 where community_pk = #{community_pk}
    </update>
    <update id="report">
        update community set community_report = community_report+ 1 where community_pk = #{community_pk}
    </update>
    <delete id="delete">
        delete community where community_pk = #{community_pk}
    </delete>
    <update id="update">
        update community set community_title = #{community_title}, community_category = #{community_category}
        , community_content = #{community_content} where community_pk = #{community_pk}
    </update>
</mapper>
